# 用 Java 对 PDF 文件进行电子签章
一、 概述
印章是我国特有的历史文化产物，古代主要用作身份凭证和行驶职权的工具。它的起源是由于社会生活的实际需要。早在商周时代，印章就已经产生。如今的印章已成为一种独特的，融实用性和艺术性为一体的艺术瑰宝。传统的印章容易被坏人、小人私刻；从而新闻鲜有报道某某私刻公章，侵吞国家财产。随着计算机技术、加密技术及图像处理技术的发展，出现了电子签章。电子签章是电子签名的一种表现形式，利用图像处理技术、数字加密技术将电子签名操作转化为与纸质文件盖章操作相同的可视效果，同时利用电子签名技术保障电子信息的真实性和完整性以及签名人的不可否认性。

电子签章与数字证书一样是身份验证的一种手段，泛指所有以电子形式存在，依附在电子文件并与其逻辑关联，可用以辨识电子文件签署者身份，保证文件的完整性，并表示签署者同意电子文件所陈述事实的内容。一般来说对电子签章的认定都是从技术角度而言的。主要是指通过特定的技术方案来鉴别当事人的身份及确保电子资料内容不被篡改的安全保障措施。电子签章常于发送安全电子邮件、访问安全站点、网上招标投标、网上签约、安全网上公文传送、公司合同、电子处方笺等。

电子签章是一个很复杂的问题，大到有相关的电子签章系统；今天分享一下如何把电子签章应用到电子处方笺的PDF文件里。

二、 技术选型
目前主流处理PDF文件两个jar包分别是：

开源组织Apache的PDFBox，官网https://pdfbox.apache.org/
大名鼎鼎adobe公司的iText，官网https://itextpdf.com/tags/adobe，其中iText又分为iText5和iText7
如何在PDFBox、iText5和iText7选出合适自己项目的技术呢？

对比PDFBox、iText5和iText7这三者：

PDFBox的功能相对较弱，iText5和iText7的功能非常强悍；

iText5的资料网上相对较多，如果出现问题容易找到解决方案；PDFBox和iText7的网上资料相对较少，如果出现问题不易找到相关解决方案；

通过阅读PDFBox代码目前PDFBox还没提供自定义签章的相关接口；iText5和iText7提供了处理自定义签章的相关实现；

PDFBox只能实现把签章图片加签到PDF文件；iText5和iText7除了可以把签章图片加签到PDF文件，还可以实现直接对签章进行绘制，把文件绘制到签章上。

PDFBox和iText5/iText7使用的协议不一样。PDFBox使用的是APACHE LICENSE VERSION 2.0（https://www.apache.org/licenses/）；iText5/iText7使用的是AGPL（https://itextpdf.com/agpl）。PDFBox免费使用，AGPL商用收费

本分享JAVA对PDF文件进行电子签章需要实现的功能：

生成证书。与PDFBox、iText5和iText7技术无关
按模板输出PDF文件：PDFBox、iText5和iText7都可以完成，但是PDFBox会遇到中文乱码比较棘手的问题
在PDF文件中实现把签章图片加签到PDF文件：PDFBox、iText5和iText7都可以实现，没有很多的区别
在PDF文件中绘制签章：iText5和iText7都可以实现，PDFBox目前不支持
在PDF文件中生成高清签章：iText5和iText7都可以实现，PDFBox目前不支持
在PDF文件中进行多次签名：：PDFBox、iText5和iText7都可以完成，没有区别
通过相关技术分析和要实现的功能分析，采用iText5进行开发，唯一遗憾的是iText商用收费；但是这不是做技术需要关心的！！选用iText5的理由：

使用iText5能实现全部的功能
如何在开发中遇到相关问题，容易找到相应解决方案

